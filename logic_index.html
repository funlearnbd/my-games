<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Kids Learning Game</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
Â  body {
Â  Â  margin: 0;
Â  Â  font-family: "Comic Sans MS", Arial, sans-serif;
Â  Â  background: linear-gradient(135deg, #a8c0ff, #3f2b96);
Â  Â  height: 100vh;
Â  Â  display: flex;
Â  Â  align-items: center;
Â  Â  justify-content: center;
Â  Â  overflow: hidden;
Â  Â  color: #fff;
Â  }

Â  /* Start screen */
Â  #startScreen {
Â  Â  display: flex;
Â  Â  flex-direction: column;
Â  Â  align-items: center;
Â  Â  justify-content: center;
Â  Â  text-align: center;
Â  }
Â  #startScreen h1 {
Â  Â  font-size: 3.8rem;
Â  Â  color: #ffeb3b;
Â  Â  text-shadow: 3px 3px 8px rgba(0, 0, 0, 0.5);
Â  Â  margin-bottom: 40px;
Â  }
Â  .start-button {
Â  Â  font-size: 3rem;
Â  Â  padding: 28px 70px;
Â  Â  border-radius: 60px;
Â  Â  border: none;
Â  Â  background: linear-gradient(45deg, #ff4081, #ff9800, #ffeb3b);
Â  Â  color: #fff;
Â  Â  cursor: pointer;
Â  Â  box-shadow: 0 12px 35px rgba(255, 140, 0, 0.6);
Â  Â  animation: pulse 2s infinite ease-in-out;
Â  Â  transition: transform 0.25s;
Â  }
Â  .start-button:hover {
Â  Â  transform: scale(1.1) rotate(-1deg);
Â  }
Â  @keyframes pulse {
Â  Â  0% { box-shadow: 0 0 20px #ff4081; }
Â  Â  50% { box-shadow: 0 0 40px #ffeb3b; }
Â  Â  100% { box-shadow: 0 0 20px #ff9800; }
Â  }

Â  /* Game */
Â  .game-container {
Â  Â  display: none;
Â  Â  width: 100%;
Â  Â  max-width: 850px;
Â  Â  padding: 24px;
Â  Â  box-sizing: border-box;
Â  Â  text-align: center;
Â  Â  background: rgba(255, 255, 255, 0.15);
Â  Â  border-radius: 24px;
Â  Â  box-shadow: 0 0 35px rgba(0, 0, 0, 0.35);
Â  }
Â  .top-bar {
Â  Â  display: flex;
Â  Â  justify-content: space-between;
Â  Â  align-items: center;
Â  Â  margin-bottom: 22px;
Â  Â  font-size: 1.8rem;
Â  Â  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
Â  }
Â  #question {
Â  Â  font-size: 2rem;
Â  Â  color: #fff;
Â  Â  margin: 12px auto;
Â  }
Â  .score {
Â  Â  font-size: 1.6rem;
Â  Â  color: #ffeb3b;
Â  Â  font-weight: 700;
Â  Â  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
Â  }

Â  /* containers */
Â  .option-container {
Â  Â  border: 4px dashed #ffeb3b;
Â  Â  border-radius: 22px;
Â  Â  padding: 20px;
Â  Â  margin: 25px 0;
Â  Â  display: grid;
Â  Â  grid-template-columns: repeat(3, 1fr);
Â  Â  gap: 20px;
Â  Â  background: rgba(255, 255, 255, 0.15);
Â  Â  justify-items: center;
Â  Â  align-items: center;
Â  }
Â  .answer-container {
Â  Â  border: 4px dashed #4caf50;
Â  Â  border-radius: 22px;
Â  Â  padding: 20px;
Â  Â  margin-top: 40px;
Â  Â  display: flex;
Â  Â  flex-wrap: wrap;
Â  Â  gap: 20px;
Â  Â  justify-content: center;
Â  Â  background: rgba(255, 255, 255, 0.12);
Â  }

Â  /* uniform option box */
Â  .option {
Â  Â  width: 140px;
Â  Â  height: 140px;
Â  Â  border-radius: 25px;
Â  Â  background: #fff;
Â  Â  display: flex;
Â  Â  align-items: center;
Â  Â  justify-content: center;
Â  Â  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
Â  Â  transition: transform 0.2s, box-shadow 0.2s;
Â  Â  cursor: pointer;
Â  Â  user-select: none;
Â  Â  position: relative;
Â  Â  overflow: hidden;
Â  }
Â  .option img {
Â  Â  width: 90%;
Â  Â  height: 90%;
Â  Â  object-fit: contain;
Â  }
Â  .option:hover {
Â  Â  transform: scale(1.08);
Â  }
Â  .question-tile {
Â  Â  cursor: default;
Â  Â  pointer-events: none;
Â  }

Â  /* blank tile */
Â  .blank {
Â  Â  background: #fafafa;
Â  Â  display: flex;
Â  Â  align-items: center;
Â  Â  justify-content: center;
Â  Â  font-size: 3rem;
Â  Â  color: #666;
Â  Â  border: 3px dashed #9e9e9e;
Â  }

Â  /* Exit button */
Â  #exitBtn {
Â  Â  margin-top: 30px;
Â  Â  padding: 16px 40px;
Â  Â  border-radius: 40px;
Â  Â  border: none;
Â  Â  background: linear-gradient(45deg, #ff1744, #e53935);
Â  Â  color: #fff;
Â  Â  font-size: 1.5rem;
Â  Â  font-weight: bold;
Â  Â  cursor: pointer;
Â  Â  box-shadow: 0 8px 25px rgba(229, 57, 53, 0.6);
Â  Â  transition: transform 0.25s, background 0.25s;
Â  }
Â  #exitBtn:hover {
Â  Â  background: linear-gradient(45deg, #e53935, #c62828);
Â  Â  transform: scale(1.05);
Â  }

Â  /* responsive */
Â  @media (max-width: 600px) {
Â  Â  .option-container {
Â  Â  Â  grid-template-columns: repeat(2, 1fr);
Â  Â  Â  gap: 15px;
Â  Â  }
Â  Â  .option {
Â  Â  Â  width: 110px;
Â  Â  Â  height: 110px;
Â  Â  }
Â  Â  .start-button {
Â  Â  Â  font-size: 2.2rem;
Â  Â  Â  padding: 20px 40px;
Â  Â  }
Â  }
</style>
</head>
<body>

Â  <div id="startScreen">
Â  Â  <h1>ğŸŒŸ Fun Learning Game ğŸŒŸ</h1>
Â  Â  <button id="startBtn" class="start-button">â–¶ Start Game</button>
Â  </div>

Â  <div id="game" class="game-container" aria-live="polite">
Â  Â  <div class="top-bar">
Â  Â  Â  <div id="question"></div>
Â  Â  Â  <div id="score" class="score">Score: 0</div>
Â  Â  </div>

Â  Â  <div id="options"></div>

Â  Â  <button id="exitBtn">â¹ Exit Game</button>
Â  </div>

Â  <div id="congrats" class="congrats"></div>

Â  <audio id="bgMusic" src="https://actions.google.com/sounds/v1/musical/melodious_tunes.ogg" loop></audio>
Â  <audio id="correctSound" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
Â  <audio id="wrongSound" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>
Â  <audio id="congratsMusic" src="https://actions.google.com/sounds/v1/cartoon/party_horn.ogg"></audio>

<script>
/* ---------- DATA ---------- */
const imageList = ["apple","ball","banana","car","cat","cherry","dog","fish","flower","orange"];

/* ---------- STATE + DOM ---------- */
let currentMode = "find";
let voicesReady = false;
let score = 0;
let waitingNextRound = false; 
let roundAnswered = false; 

const loadedImages = {};
const bgMusic = document.getElementById('bgMusic');
const correctSound = document.getElementById('correctSound');
const wrongSound = document.getElementById('wrongSound');
const congratsMusic = document.getElementById('congratsMusic');
const scoreEl = document.getElementById('score');
const congratsEl = document.getElementById('congrats');
const startBtn = document.getElementById('startBtn');
const startScreen = document.getElementById('startScreen');
const game = document.getElementById('game');
const qEl = document.getElementById('question');
const optionsEl = document.getElementById('options');
const exitBtn = document.getElementById('exitBtn');

/* preload images */
imageList.forEach(name => { const img = new Image(); img.src = `image/${name}.png`; loadedImages[name] = img; });

/* ---------- START / EXIT ---------- */
startBtn.addEventListener('click', () => {
Â  voicesReady = true;
Â  try { bgMusic.play(); } catch(e) {}
Â  startScreen.style.display = 'none';
Â  game.style.display = 'block';
Â  score = 0;
Â  updateScore();
Â  nextRound();
});

exitBtn.addEventListener('click', () => {
Â  try { bgMusic.pause(); bgMusic.currentTime = 0; } catch(e) {}
Â  window.location.href = 'index.html';
});

/* ---------- SPEECH ---------- */
function speak(text, cb=null){
Â  if(!voicesReady){ if(cb) setTimeout(cb, 400); return; }
Â  const u = new SpeechSynthesisUtterance(text);
Â  u.rate = 0.8; u.pitch = 1.15;
Â  if(cb) u.onend = cb;
Â  speechSynthesis.speak(u);
}

/* ---------- SCORE / CONGRATS ---------- */
function updateScore(){
Â  scoreEl.textContent = `Score: ${score}`;
}

/* ---------- UTIL ---------- */
function shuffle(arr){ return arr.slice().sort(()=>Math.random()-0.5); }

/* ---------- CORE FLOW ---------- */
function nextRound(){
Â  if(waitingNextRound) return;
Â  roundAnswered = false;
Â  optionsEl.innerHTML = '';
Â  const modes = ['find','different','missing'];
Â  currentMode = modes[Math.floor(Math.random()*modes.length)];
Â  if(currentMode==='find') startFindRound();
Â  else if(currentMode==='different') startDifferentRound();
Â  else startMissingRound();
}

function createQuestionTile(name, parent){
Â  const tile = document.createElement('div');
Â  tile.className = 'option question-tile';
Â  const img = document.createElement('img');
Â  img.src = loadedImages[name].src;
Â  img.alt = name;
Â  tile.appendChild(img);
Â  parent.appendChild(tile);
}

function createAnswerTile(name, isCorrect, parent, blankDiv=null, missing=null){
Â  const tile = document.createElement('div');
Â  tile.className = 'option';
Â  tile.dataset.correct = isCorrect ? '1' : '0';
Â  const img = document.createElement('img');
Â  img.src = loadedImages[name].src;
Â  img.alt = name;
Â  tile.appendChild(img);

Â  tile.addEventListener('click', ()=>{
Â  Â  if(roundAnswered) return;
Â  Â  const correct = tile.dataset.correct === '1';
Â  Â  if(correct){
Â  Â  Â  roundAnswered = true;
Â  Â  Â  try{ correctSound.currentTime = 0; correctSound.play(); }catch(e){}
Â  Â  Â  score++;
Â  Â  Â  updateScore();
Â  Â  Â  if(blankDiv && missing){
Â  Â  Â  Â  blankDiv.innerHTML = '';
Â  Â  Â  Â  const im = document.createElement('img');
Â  Â  Â  Â  im.src = loadedImages[missing].src;
Â  Â  Â  Â  im.alt = missing;
Â  Â  Â  Â  blankDiv.appendChild(im);
Â  Â  Â  }
Â  Â  Â  speak('Well done!', ()=> setTimeout(()=> nextRound(), 500));
Â  Â  } else {
Â  Â  Â  try{ wrongSound.currentTime = 0; wrongSound.play(); }catch(e){}
Â  Â  Â  speak('Try again');
Â  Â  }
Â  });
Â  parent.appendChild(tile);
}

/* ---------- Rounds ---------- */
function startFindRound(){
Â  const choices = shuffle(imageList).slice(0,4);
Â  const target = choices[Math.floor(Math.random()*choices.length)];
Â  qEl.textContent = `Find the ${target}`;
Â  speak(`Can you find the ${target}?`);
Â  const ansContainer = document.createElement('div');
Â  ansContainer.className = 'answer-container';
Â  shuffle(choices).forEach(name => createAnswerTile(name, name===target, ansContainer));
Â  optionsEl.appendChild(ansContainer);
}

function startDifferentRound(){
Â  const base = imageList[Math.floor(Math.random() * imageList.length)];
Â  let odd;
Â  do {
Â  Â  odd = imageList[Math.floor(Math.random() * imageList.length)];
Â  } while (odd === base);

Â  qEl.textContent = 'Find the different one!';
Â  speak('Which one is different?');
Â  const arr = shuffle([base, base, base, odd]);

Â  const ansContainer = document.createElement('div');
Â  ansContainer.className = 'answer-container';
Â  arr.forEach(name => createAnswerTile(name, name === odd, ansContainer));
Â  optionsEl.appendChild(ansContainer);
}

function startMissingRound(){
Â  const selected = shuffle(imageList).slice(0, 6);
Â  const missingIndex = Math.floor(Math.random() * selected.length);
Â  const missing = selected[missingIndex];
Â  const itemsInGrid = selected.filter((_, idx) => idx !== missingIndex);

Â  qEl.textContent = 'Which picture is missing?';
Â  speak('Which picture is missing?');

Â  const questionContainer = document.createElement('div');
Â  questionContainer.className = 'option-container';

Â  let blankDiv = null;
Â  selected.forEach((name, idx) => {
Â  Â  if(idx === missingIndex){
Â  Â  Â  blankDiv = document.createElement('div');
Â  Â  Â  blankDiv.className = 'option blank';
Â  Â  Â  questionContainer.appendChild(blankDiv);
Â  Â  } else {
Â  Â  Â  createQuestionTile(name, questionContainer);
Â  Â  }
Â  });
Â  optionsEl.appendChild(questionContainer);

Â  const allImagesExceptGrid = imageList.filter(name => !itemsInGrid.includes(name) && name !== missing);
Â  const wrongOptions = shuffle(allImagesExceptGrid).slice(0, 2);
Â  const answerChoices = shuffle([missing, ...wrongOptions]);

Â  const answerContainer = document.createElement('div');
Â  answerContainer.className = 'answer-container';
Â  answerChoices.forEach(name =>
Â  Â  createAnswerTile(name, name === missing, answerContainer, blankDiv, missing)
Â  );
Â  optionsEl.appendChild(answerContainer);
}
</script>
</body>
</html>
