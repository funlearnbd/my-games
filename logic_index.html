<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kids Logic Games</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: sans-serif;
      background-color: #f0f4f8;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    .container {
      background: white;
      border-radius: 1rem;
      padding: 2rem;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      max-width: 600px;
      width: 90%;
      text-align: center;
    }
    .emoji-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
      margin-top: 1.5rem;
    }
    .emoji-item {
      font-size: 3rem;
      cursor: pointer;
      padding: 0.5rem;
      border-radius: 0.5rem;
      transition: transform 0.2s;
      position: relative;
    }
    .emoji-item:hover {
      transform: scale(1.1);
    }
    /* Correct shine effect */
    .correct {
      animation: shine 0.8s ease forwards;
    }
    @keyframes shine {
      0% { transform: scale(1); box-shadow: 0 0 0 rgba(255,215,0,0.8); }
      50% { transform: scale(1.3); box-shadow: 0 0 25px rgba(255,215,0,1); }
      100% { transform: scale(1); box-shadow: 0 0 0 rgba(255,215,0,0); }
    }
    /* Star burst */
    .star {
      position: absolute;
      font-size: 1.5rem;
      animation: burst 1s ease-out forwards;
      pointer-events: none;
    }
    @keyframes burst {
      0% { opacity: 1; transform: scale(0.5) translate(0,0); }
      100% { opacity: 0; transform: scale(1.5) translate(var(--x), var(--y)); }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 class="text-2xl font-bold mb-2">Logic Game</h1>
    <p id="instructions" class="text-gray-600 mb-4">Loading...</p>
    <div id="emoji-grid" class="emoji-grid"></div>
  </div>

  <script>
    const allEmojis = ['ðŸŽ','ðŸŒ','ðŸ‡','ðŸ‰','ðŸ“','ðŸ’','ðŸ‘','ðŸ','ðŸ¥­','ðŸ¥'];
    const feedbackPhrases = ["Great job!", "Well done!", "Excellent!", "You are doing great!"];

    const instructionsEl = document.getElementById("instructions");
    const gridEl = document.getElementById("emoji-grid");

    let targetEmoji = null;

    function speak(text) {
      const msg = new SpeechSynthesisUtterance(text);
      msg.lang = "en-US";
      speechSynthesis.speak(msg);
    }

    function startGame() {
      gridEl.innerHTML = "";
      const choices = shuffle(allEmojis).slice(0, 6);
      targetEmoji = choices[Math.floor(Math.random()*choices.length)];

      instructionsEl.textContent = `Find the ${targetEmoji}`;
      speak(`Find the ${targetEmoji}`);

      choices.forEach(emoji => {
        const div = document.createElement("div");
        div.className = "emoji-item";
        div.textContent = emoji;
        div.onclick = () => checkAnswer(div, emoji);
        gridEl.appendChild(div);
      });
    }

    function checkAnswer(el, emoji) {
      if (emoji === targetEmoji) {
        el.classList.add("correct");
        launchStars(el);

        const phrase = feedbackPhrases[Math.floor(Math.random()*feedbackPhrases.length)];
        speak(phrase);

        setTimeout(startGame, 1500);
      } else {
        speak("Try again");
      }
    }

    function launchStars(el) {
      for (let i=0; i<5; i++) {
        const star = document.createElement("div");
        star.className = "star";
        star.textContent = "â­";
        star.style.left = "50%";
        star.style.top = "50%";
        star.style.setProperty("--x", `${(Math.random()-0.5)*150}px`);
        star.style.setProperty("--y", `${(Math.random()-0.5)*150}px`);
        el.appendChild(star);

        setTimeout(()=> star.remove(), 1000);
      }
    }

    function shuffle(array) {
      return array.sort(()=> Math.random()-0.5);
    }

    window.onload = startGame;
  </script>
</body>
</html>
