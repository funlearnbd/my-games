// Show loading overlay without removing container
const loadingOverlay = document.createElement('div');
loadingOverlay.className = 'loading-screen';
const loadingText = document.createElement('div');
loadingText.className = 'loading-text';
loadingText.innerText = 'Loading 0%';
loadingOverlay.appendChild(loadingText);
document.body.appendChild(loadingOverlay);

let loadedImages = 0;
imageList.forEach(name=>{
  const img = new Image();
  img.src = `image/${name}.png?v=${Date.now()}`;
  img.onload = img.onerror = ()=>{
    loadedImages++;
    loadingText.innerText = `Loading ${Math.floor(loadedImages/imageList.length*100)}%`;
    if(loadedImages===imageList.length){
      setTimeout(()=>{
        loadingOverlay.remove();  // Remove overlay
        nextRound();             // Render first round immediately
        bgMusic.volume=0.2; bgMusic.play().catch(()=>{});
      }, 300);
    }
  }
});
