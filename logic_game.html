<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fun Kids Game</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    background: #f9f9f9;
    margin: 0;
    padding: 0;
  }
  h1 { background: #ffcc00; margin:0; padding:15px; }
  #question { font-size: 1.5em; margin: 20px 0; }
  #game-area {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(120px,1fr));
    gap: 15px;
    padding: 10px;
    max-width: 700px;
    margin: auto;
  }
  .answer-box {
    background: #fff;
    border: 3px solid #ccc;
    border-radius: 15px;
    padding: 10px;
    cursor: pointer;
    transition: transform .2s;
  }
  .answer-box:hover { transform: scale(1.1); }
  .answer-box img {
    width: 100px; height: 100px; object-fit: contain;
  }
  #drop-zone {
    width: 150px; height: 150px;
    border: 3px dashed #333;
    border-radius: 20px;
    margin: 20px auto;
    display: none;
    background: #fafafa;
    display:flex; align-items:center; justify-content:center;
  }
  #message { font-size:1.3em; margin-top:15px; min-height: 1.5em; }
  #score { margin: 10px; font-weight: bold; }
</style>
</head>
<body>
<h1>Fun Kids Game</h1>
<div id="score">Score: 0</div>
<div id="question"></div>
<div id="drop-zone"></div>
<div id="game-area"></div>
<div id="message"></div>

<!-- Sounds -->
<audio id="success-sound" src="data:audio/mp3;base64,SUQzAwAAAAAA..."></audio>
<audio id="buzz-sound" src="data:audio/mp3;base64,SUQzAwAAAAAA..."></audio>

<script>
// === Tiny base64 emoji-like images (just examples) ===
// You can replace with your own small PNGs later
const items = [
  { name:"apple", src:"data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><circle cx="50" cy="50" r="40" fill="red"/></svg>'), sound:"" },
  { name:"banana", src:"data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><ellipse cx="50" cy="60" rx="35" ry="20" fill="yellow"/></svg>'), sound:"" },
  { name:"dog", src:"data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><rect width="100" height="100" fill="saddlebrown"/></svg>'), sound:"" },
  { name:"cat", src:"data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><circle cx="50" cy="50" r="40" fill="gray"/></svg>'), sound:"" },
  { name:"flower", src:"data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><circle cx="50" cy="50" r="30" fill="pink"/><circle cx="50" cy="20" r="15" fill="yellow"/></svg>'), sound:"" },
  { name:"star", src:"data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><polygon points="50,10 61,39 92,39 66,58 75,88 50,70 25,88 34,58 8,39 39,39" fill="gold"/></svg>'), sound:"" }
];

let score=0, correctAnswer="", gameCount=0;

const questionDisplay=document.getElementById("question");
const gameArea=document.getElementById("game-area");
const dropZone=document.getElementById("drop-zone");
const messageDisplay=document.getElementById("message");
const scoreDisplay=document.getElementById("score");

// speak helper
function speak(text){
  const u=new SpeechSynthesisUtterance(text);
  u.rate=1.1;
  speechSynthesis.speak(u);
}

// shuffle helper
function shuffle(a){ for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];} }

// main round
function newRound(){
  gameCount++;
  gameArea.innerHTML="";
  dropZone.style.display="none";
  messageDisplay.textContent="";
  
  if(gameCount<=10) generateSelect();
  else if(gameCount<=20) generateDrag();
  else if(gameCount<=30) generateMissing();
  else generateDifferent();
}

// === Select Mode ===
function generateSelect(){
  const item=items[Math.floor(Math.random()*items.length)];
  correctAnswer=item.src;
  questionDisplay.textContent="Find the "+item.name+"!";
  speak(questionDisplay.textContent);
  let options=[item];
  while(options.length<6){
    const it=items[Math.floor(Math.random()*items.length)];
    if(!options.includes(it)) options.push(it);
  }
  shuffle(options);
  options.forEach(opt=>{
    const box=document.createElement("div"); box.className="answer-box";
    const img=document.createElement("img"); img.src=opt.src;
    box.appendChild(img);
    box.onclick=()=>checkAnswer(opt.src);
    gameArea.appendChild(box);
  });
}

// === Drag Mode ===
function generateDrag(){
  const item=items[Math.floor(Math.random()*items.length)];
  correctAnswer=item.src;
  questionDisplay.textContent="Drag the "+item.name+" to the box!";
  speak(questionDisplay.textContent);
  dropZone.style.display="flex";
  
  const img=document.createElement("img");
  img.src=item.src;
  img.style.width="100px"; img.style.height="100px"; img.draggable=true;
  gameArea.appendChild(img);
  
  img.addEventListener("dragstart",e=>{ e.dataTransfer.setData("text/plain",item.src); });
  dropZone.ondragover=e=>{ e.preventDefault(); };
  dropZone.ondrop=e=>{
    e.preventDefault();
    const src=e.dataTransfer.getData("text/plain");
    checkAnswer(src);
  };
}

// === Missing Piece ===
function generateMissing(){
  const item=items[Math.floor(Math.random()*items.length)];
  correctAnswer=item.src;
  questionDisplay.textContent="Find the missing piece!";
  speak(questionDisplay.textContent);
  // Puzzle part
  const puzzle=document.createElement("div");
  puzzle.innerHTML="<p>üß© Puzzle here (pretend one part is missing)</p>";
  gameArea.appendChild(puzzle);
  
  let options=[item];
  while(options.length<3){
    const it=items[Math.floor(Math.random()*items.length)];
    if(!options.includes(it)) options.push(it);
  }
  shuffle(options);
  options.forEach(opt=>{
    const box=document.createElement("div"); box.className="answer-box";
    const img=document.createElement("img"); img.src=opt.src;
    box.appendChild(img);
    box.onclick=()=>checkAnswer(opt.src);
    gameArea.appendChild(box);
  });
}

// === Find Different ===
function generateDifferent(){
  const same=items[Math.floor(Math.random()*items.length)];
  let different; do{ different=items[Math.floor(Math.random()*items.length)]; }while(different===same);
  correctAnswer=different.src;
  questionDisplay.textContent="Find the different item!";
  speak(questionDisplay.textContent);
  let options=[different];
  for(let i=0;i<5;i++) options.push(same);
  shuffle(options);
  options.forEach(opt=>{
    const box=document.createElement("div"); box.className="answer-box";
    const img=document.createElement("img"); img.src=opt.src;
    box.appendChild(img);
    box.onclick=()=>checkAnswer(opt.src);
    gameArea.appendChild(box);
  });
}

// === Check Answer ===
function checkAnswer(src){
  if(src===correctAnswer){
    messageDisplay.textContent="‚úÖ Correct!";
    document.getElementById("success-sound").play();
    score++; scoreDisplay.textContent="Score: "+score;
    speak("Correct!");
    setTimeout(newRound,1000);
  } else {
    messageDisplay.textContent="‚ùå Try again!";
    document.getElementById("buzz-sound").play();
    speak("Try again!");
  }
}

// start game
newRound();
</script>
</body>
</html>
